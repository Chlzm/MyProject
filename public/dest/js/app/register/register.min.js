/*! lastmodify: 2016-04-07 15:41:56 */
!function(e){function t(c){if(n[c])return n[c].exports;var a=n[c]={exports:{},id:c,loaded:!1};return e[c].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t){"use strict";!function(){var e=angular.module("register",[]);e.directive("ngKeyup",function(){return{restrict:"A",link:function(e,t,n){var c=e.$eval(n.ngKeyup);t.on("keyup",function(e){c&&c(e.which)})}}}),e.controller("Register",["$scope","$http",function(e,t){e.name="",e.password="",e.nickName="",e.state=!0,e.watch=function(){e.name.length&&e.password.length&&e.nickName.length?e.state=!1:e.state=!0,e.btnRegister=function(){var n=e.captchaObj.getValidate();return n?(Object.assign(n,{name:e.name,password:e.password,nickName:e.nickName}),void t({url:"/register",method:"POST",data:n}).success(function(e){e&&"success"===e.status&&(alert(e.message),location.href="/registerSuccess")})):void alert("验证码错误")}};({init:function(){this._register()},_register:function(){var n=function(t){e.captchaObj=t,e.captchaObj.appendTo("#captcha"),e.captchaObj.onReady(function(){})};t({url:"/registerCode",method:"get"}).success(function(e){initGeetest({gt:e.gt,challenge:e.challenge,product:"embed",offline:!e.success},n)})}}).init();e.show=!0}])}()}]);